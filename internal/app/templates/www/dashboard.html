{{ define "title" }}Dashboard{{ end }}

{{ define "head" }}
<script defer src="https://unpkg.com/htmx.org@1.9.10"></script>
<script defer src="https://unpkg.com/htmx.org@1.9.10/dist/ext/sse.js"></script>
{{ end }}

{{ define "nav" }}
<li>
    <form method="POST" action="{{ url "logout" }}" style="margin:0">
        <button type="submit" class="secondary outline" style="margin:0;padding:0.25rem 0.75rem;border:none">Logout</button>
    </form>
</li>
{{ end }}
{{ define "content" }}
<h1>Dashboard</h1>
<article>
    <header>User Info</header>
    <p><strong>Email:</strong> {{.Email}}</p>
    <p><strong>User ID:</strong> {{.UserID}}</p>
    <p><strong>Roles:</strong></p>
    {{if .Roles}}
    <ul>
        {{range .Roles}}
        <li>{{.}}</li>
        {{end}}
    </ul>
    {{else}}
    <p><em>No roles assigned</em></p>
    {{end}}
</article>
<article>
    <header>Datetime via SSE</header>
    <p hx-ext="sse" sse-connect="{{ url "time"}}" sse-swap="message">&nbsp;</p>
</article>
{{ end }}
